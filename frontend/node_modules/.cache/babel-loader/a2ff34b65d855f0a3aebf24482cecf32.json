{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[users,setUsers]=useState([]);const[name,setName]=useState('');// Configuraci贸n de la API\nconst API_BASE=window.location.hostname==='localhost'?'http://192.168.50.5:3001':'https://ec2-3-23-87-124.us-east-2.compute.amazonaws.com:3001';// Crear instancia de axios configurada para desarrollo\nconst apiInstance=axios.create({baseURL:API_BASE// Nota: httpsAgent solo funciona en Node.js, no en el navegador\n});// Para el navegador, necesitamos una soluci贸n diferente\nuseEffect(()=>{// Usar la instancia configurada\napiInstance.get('/users').then(res=>setUsers(res.data)).catch(err=>{console.error('Error fetching users:',err);// Si falla HTTPS, intentar con HTTP como fallback\nif(API_BASE.startsWith('https')){const httpAPI=API_BASE.replace('https://','http://');axios.get(\"\".concat(httpAPI,\"/users\")).then(res=>setUsers(res.data)).catch(err2=>console.error('Error with HTTP fallback:',err2));}});},[API_BASE]);const addUser=async()=>{if(!name.trim())return;try{const res=await apiInstance.post('/users',{name});setUsers([...users,res.data]);setName('');}catch(err){console.error('Error adding user:',err);// Fallback a HTTP si HTTPS falla\nif(API_BASE.startsWith('https')){const httpAPI=API_BASE.replace('https://','http://');try{const res=await axios.post(\"\".concat(httpAPI,\"/users\"),{name});setUsers([...users,res.data]);setName('');}catch(err2){console.error('Error with HTTP fallback:',err2);}}}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',fontFamily:'Arial, sans-serif'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User Management\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{value:name,onChange:e=>setName(e.target.value),placeholder:\"Enter user name\",style:{marginRight:'10px',padding:'8px',border:'1px solid #ddd',borderRadius:'4px'},onKeyPress:e=>e.key==='Enter'&&addUser()}),/*#__PURE__*/_jsx(\"button\",{onClick:addUser,style:{padding:'8px 16px',backgroundColor:'#007bff',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Add User\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Users List\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:users.length>0?users.map(user=>/*#__PURE__*/_jsx(\"li\",{style:{padding:'10px',margin:'5px 0',backgroundColor:'#f8f9fa',border:'1px solid #dee2e6',borderRadius:'4px'},children:user.name},user.id)):/*#__PURE__*/_jsx(\"li\",{style:{color:'#6c757d'},children:\"No users found\"})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","App","users","setUsers","name","setName","API_BASE","window","location","hostname","apiInstance","create","baseURL","get","then","res","data","catch","err","console","error","startsWith","httpAPI","replace","concat","err2","addUser","trim","post","style","padding","fontFamily","children","marginBottom","value","onChange","e","target","placeholder","marginRight","border","borderRadius","onKeyPress","key","onClick","backgroundColor","color","cursor","listStyle","length","map","user","margin","id"],"sources":["/home/vagrant/Practica-Ing-SOftware/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n  const [name, setName] = useState('');\n\n  // Configuraci贸n de la API\n  const API_BASE = window.location.hostname === 'localhost'\n    ? 'http://192.168.50.5:3001'\n    : 'https://ec2-3-23-87-124.us-east-2.compute.amazonaws.com:3001';\n\n  // Crear instancia de axios configurada para desarrollo\n  const apiInstance = axios.create({\n    baseURL: API_BASE,\n    // Nota: httpsAgent solo funciona en Node.js, no en el navegador\n  });\n\n  // Para el navegador, necesitamos una soluci贸n diferente\n  useEffect(() => {\n    // Usar la instancia configurada\n    apiInstance.get('/users')\n      .then(res => setUsers(res.data))\n      .catch(err => {\n        console.error('Error fetching users:', err);\n        // Si falla HTTPS, intentar con HTTP como fallback\n        if (API_BASE.startsWith('https')) {\n          const httpAPI = API_BASE.replace('https://', 'http://');\n          axios.get(`${httpAPI}/users`)\n            .then(res => setUsers(res.data))\n            .catch(err2 => console.error('Error with HTTP fallback:', err2));\n        }\n      });\n  }, [API_BASE]);\n\n  const addUser = async () => {\n    if (!name.trim()) return;\n\n    try {\n      const res = await apiInstance.post('/users', { name });\n      setUsers([...users, res.data]);\n      setName('');\n    } catch (err) {\n      console.error('Error adding user:', err);\n      // Fallback a HTTP si HTTPS falla\n      if (API_BASE.startsWith('https')) {\n        const httpAPI = API_BASE.replace('https://', 'http://');\n        try {\n          const res = await axios.post(`${httpAPI}/users`, { name });\n          setUsers([...users, res.data]);\n          setName('');\n        } catch (err2) {\n          console.error('Error with HTTP fallback:', err2);\n        }\n      }\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>\n      <h1>User Management</h1>\n      <div style={{ marginBottom: '20px' }}>\n        <input\n          value={name}\n          onChange={e => setName(e.target.value)}\n          placeholder=\"Enter user name\"\n          style={{\n            marginRight: '10px',\n            padding: '8px',\n            border: '1px solid #ddd',\n            borderRadius: '4px'\n          }}\n          onKeyPress={(e) => e.key === 'Enter' && addUser()}\n        />\n        <button\n          onClick={addUser}\n          style={{\n            padding: '8px 16px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          Add User\n        </button>\n      </div>\n\n      <h2>Users List</h2>\n      <ul style={{ listStyle: 'none', padding: 0 }}>\n        {users.length > 0 ? (\n          users.map(user => (\n            <li\n              key={user.id}\n              style={{\n                padding: '10px',\n                margin: '5px 0',\n                backgroundColor: '#f8f9fa',\n                border: '1px solid #dee2e6',\n                borderRadius: '4px'\n              }}\n            >\n              {user.name}\n            </li>\n          ))\n        ) : (\n          <li style={{ color: '#6c757d' }}>No users found</li>\n        )}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}