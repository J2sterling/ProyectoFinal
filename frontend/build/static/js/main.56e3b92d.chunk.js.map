{"version":3,"sources":["App.js","index.js"],"names":["App","users","setUsers","useState","name","setName","API_BASE","window","location","hostname","apiInstance","axios","create","baseURL","useEffect","get","then","res","data","catch","err","console","error","startsWith","httpAPI","replace","concat","err2","addUser","async","trim","post","_jsxs","style","padding","fontFamily","children","_jsx","marginBottom","value","onChange","e","target","placeholder","marginRight","border","borderRadius","onKeyPress","key","onClick","backgroundColor","color","cursor","listStyle","length","map","user","margin","id","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"wLAkHeA,MA/Gf,WACE,MAAOC,EAAOC,GAAYC,mBAAS,KAC5BC,EAAMC,GAAWF,mBAAS,IAG3BG,EAAwC,cAA7BC,OAAOC,SAASC,SAC7B,2BACA,+DAGEC,EAAcC,IAAMC,OAAO,CAC/BC,QAASP,IAKXQ,oBAAU,KAERJ,EAAYK,IAAI,UACbC,KAAKC,GAAOf,EAASe,EAAIC,OACzBC,MAAMC,IAGL,GAFAC,QAAQC,MAAM,wBAAyBF,GAEnCd,EAASiB,WAAW,SAAU,CAChC,MAAMC,EAAUlB,EAASmB,QAAQ,WAAY,WAC7Cd,IAAMI,IAAI,GAADW,OAAIF,EAAO,WACjBR,KAAKC,GAAOf,EAASe,EAAIC,OACzBC,MAAMQ,GAAQN,QAAQC,MAAM,4BAA6BK,GAC9D,KAEH,CAACrB,IAEJ,MAAMsB,EAAUC,UACd,GAAKzB,EAAK0B,OAEV,IACE,MAAMb,QAAYP,EAAYqB,KAAK,SAAU,CAAE3B,SAC/CF,EAAS,IAAID,EAAOgB,EAAIC,OACxBb,EAAQ,GACV,CAAE,MAAOe,GAGP,GAFAC,QAAQC,MAAM,qBAAsBF,GAEhCd,EAASiB,WAAW,SAAU,CAChC,MAAMC,EAAUlB,EAASmB,QAAQ,WAAY,WAC7C,IACE,MAAMR,QAAYN,IAAMoB,KAAK,GAADL,OAAIF,EAAO,UAAU,CAAEpB,SACnDF,EAAS,IAAID,EAAOgB,EAAIC,OACxBb,EAAQ,GACV,CAAE,MAAOsB,GACPN,QAAQC,MAAM,4BAA6BK,EAC7C,CACF,CACF,GAGF,OACEK,eAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQC,WAAY,qBAAsBC,SAAA,CAC/DC,cAAA,MAAAD,SAAI,oBACJJ,eAAA,OAAKC,MAAO,CAAEK,aAAc,QAASF,SAAA,CACnCC,cAAA,SACEE,MAAOnC,EACPoC,SAAUC,GAAKpC,EAAQoC,EAAEC,OAAOH,OAChCI,YAAY,kBACZV,MAAO,CACLW,YAAa,OACbV,QAAS,MACTW,OAAQ,iBACRC,aAAc,OAEhBC,WAAaN,GAAgB,UAAVA,EAAEO,KAAmBpB,MAE1CS,cAAA,UACEY,QAASrB,EACTK,MAAO,CACLC,QAAS,WACTgB,gBAAiB,UACjBC,MAAO,QACPN,OAAQ,OACRC,aAAc,MACdM,OAAQ,WACRhB,SACH,gBAKHC,cAAA,MAAAD,SAAI,eACJC,cAAA,MAAIJ,MAAO,CAAEoB,UAAW,OAAQnB,QAAS,GAAIE,SAC1CnC,EAAMqD,OAAS,EACdrD,EAAMsD,IAAIC,GACRnB,cAAA,MAEEJ,MAAO,CACLC,QAAS,OACTuB,OAAQ,QACRP,gBAAiB,UACjBL,OAAQ,oBACRC,aAAc,OACdV,SAEDoB,EAAKpD,MATDoD,EAAKE,KAadrB,cAAA,MAAIJ,MAAO,CAAEkB,MAAO,WAAYf,SAAC,uBAK3C,EC5GAuB,IAASC,OACPvB,cAACwB,IAAMC,WAAU,CAAA1B,SACfC,cAACrC,EAAG,MAEN+D,SAASC,eAAe,Q","file":"static/js/main.56e3b92d.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n  const [name, setName] = useState('');\n\n  // Configuración de la API\n  const API_BASE = window.location.hostname === 'localhost'\n    ? 'http://192.168.50.5:3001'\n    : 'https://ec2-3-23-87-124.us-east-2.compute.amazonaws.com:3001';\n\n  // Crear instancia de axios configurada para desarrollo\n  const apiInstance = axios.create({\n    baseURL: API_BASE,\n    // Nota: httpsAgent solo funciona en Node.js, no en el navegador\n  });\n\n  // Para el navegador, necesitamos una solución diferente\n  useEffect(() => {\n    // Usar la instancia configurada\n    apiInstance.get('/users')\n      .then(res => setUsers(res.data))\n      .catch(err => {\n        console.error('Error fetching users:', err);\n        // Si falla HTTPS, intentar con HTTP como fallback\n        if (API_BASE.startsWith('https')) {\n          const httpAPI = API_BASE.replace('https://', 'http://');\n          axios.get(`${httpAPI}/users`)\n            .then(res => setUsers(res.data))\n            .catch(err2 => console.error('Error with HTTP fallback:', err2));\n        }\n      });\n  }, [API_BASE]);\n\n  const addUser = async () => {\n    if (!name.trim()) return;\n\n    try {\n      const res = await apiInstance.post('/users', { name });\n      setUsers([...users, res.data]);\n      setName('');\n    } catch (err) {\n      console.error('Error adding user:', err);\n      // Fallback a HTTP si HTTPS falla\n      if (API_BASE.startsWith('https')) {\n        const httpAPI = API_BASE.replace('https://', 'http://');\n        try {\n          const res = await axios.post(`${httpAPI}/users`, { name });\n          setUsers([...users, res.data]);\n          setName('');\n        } catch (err2) {\n          console.error('Error with HTTP fallback:', err2);\n        }\n      }\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>\n      <h1>User Management</h1>\n      <div style={{ marginBottom: '20px' }}>\n        <input\n          value={name}\n          onChange={e => setName(e.target.value)}\n          placeholder=\"Enter user name\"\n          style={{\n            marginRight: '10px',\n            padding: '8px',\n            border: '1px solid #ddd',\n            borderRadius: '4px'\n          }}\n          onKeyPress={(e) => e.key === 'Enter' && addUser()}\n        />\n        <button\n          onClick={addUser}\n          style={{\n            padding: '8px 16px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          Add User\n        </button>\n      </div>\n\n      <h2>Users List</h2>\n      <ul style={{ listStyle: 'none', padding: 0 }}>\n        {users.length > 0 ? (\n          users.map(user => (\n            <li\n              key={user.id}\n              style={{\n                padding: '10px',\n                margin: '5px 0',\n                backgroundColor: '#f8f9fa',\n                border: '1px solid #dee2e6',\n                borderRadius: '4px'\n              }}\n            >\n              {user.name}\n            </li>\n          ))\n        ) : (\n          <li style={{ color: '#6c757d' }}>No users found</li>\n        )}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}